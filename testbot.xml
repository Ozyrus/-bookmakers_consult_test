<context>
    <input pattern="$Text">
        <!-- Store the user’s name in the UserName variable with "user" scope to save it into database -->
        <var name="Question" value="$Text" scope="context"/>
        <post url="http://46.101.255.21/api/questions/" var="ReturnQuestion">
            <header name="Content-Type" value="application/json"/>
            <body>
                <![CDATA[
                    {"question":"$Question"}
                ]]>
            </body>
        </post>
        <var name ="Question_plain" value = "javascript: $ReturnQuestion.all"/>
        <var name ="1_question_id" value = "javascript: $ReturnQuestion.1.id"/>
        <var name ="1_question_text" value = "javascript: $ReturnQuestion.1.text"/>
        <var name ="2_question_id" value = "javascript: $ReturnQuestion.2.id"/>
        <var name ="2_question_text" value = "javascript: $ReturnQuestion.2.text"/>
        <var name ="3_question_id" value = "javascript: $ReturnQuestion.3.id"/>
        <var name ="3_question_text" value = "javascript: $ReturnQuestion.3.text"/>
        <output value='$Question_plain \n Напишите цифру правильного ответа, и я научусь отвечать лучше. Либо напишите свой вариант ответа текстом.'/>
        <context>
            <input pattern="$Number">
                <context id="number_1" if="$number = 1">
                    <post url="46.101.255.21/api/questions/" var="Question_1">
                          <header name="Content-Type" value="application/json"/>
                          <body>
                            <![CDATA[
                              {
                                "id" : "$1_question_id",
                                "text" : "$1_question_text"
                              }
                            ]]>
                          </body>
                    </post>
                    <output value='Recorded thanks nigguh'/>
                </context>
                <context id="number_2" if="$number = 2">
                    <post url="46.101.255.21/api/questions/" var="Question_2">
                          <header name="Content-Type" value="application/json"/>
                          <body>
                            <![CDATA[
                              {
                                "id" : "$2_question_id",
                                "text" : "$2_question_text"
                              }
                            ]]>
                          </body>
                    </post>
                    <output value='Recorded thanks nigguh'/>
                </context>
                <context id="number_3" if="$number = 3">
                    <post url="46.101.255.21/api/questions/" var="Question_3">
                          <header name="Content-Type" value="application/json"/>
                          <body>
                            <![CDATA[
                              {
                                "id" : "$3_question_id",
                                "text" : "$3_question_text"
                              }
                            ]]>
                          </body>
                    </post>
                    <output value='Recorded thanks nigguh'/>
                </context>
            </input>
          <input pattern = "$Text">
          <var name="Question" value="$Text" scope="context"/>
          <post url="46.101.255.21/api/questions/add/" var="QAPair">
              <header name="Content-Type" value="application/json"/>
              <body>
                <![CDATA[
                  {
                    "question" : "$Text",
                    "answer" : "$Text_2"
                  }
                ]]>
              </body>
          </post>
          </input>
        </context>  
    </input>
</context>
