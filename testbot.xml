<context>
    <input pattern="$Text">
        <!-- Store the user’s name in the UserName variable with "user" scope to save it into database -->
        <var name="Question" value="$Text" scope="context"/>
        <post url="http://46.101.255.21/api/questions/" var="ReturnQuestion">
            <header name="Content-Type" value="application/json"/>
            <body>
                <![CDATA[
                    {"question":"$Question"}
                ]]>
            </body>
        </post>
        <var name ="Question_plain" value = "javascript: $ReturnQuestion"/>
        <var name ="1_question_text" value = "javascript: $ReturnQuestion.top_1"/>
        <var name ="2_question_text" value = "javascript: $ReturnQuestion.top_2"/>
        <var name ="3_question_text" value = "javascript: $ReturnQuestion.top_3"/>
        <output value='$Question_plain \n Напишите цифру правильного ответа, и я научусь отвечать лучше. Либо напишите свой вариант ответа текстом.'/>
        <context>
            <input pattern="1">
                    <post url="46.101.255.21/api/question/add/" var="Question_1">
                          <header name="Content-Type" value="application/json"/>
                          <body>
                            <![CDATA[
                              {
                                "question" : "$Question",
                                "answer" : "$1_question_text"
                              }
                            ]]>
                          </body>
                    </post>
                    <output value='Recorded thanks nigguh'/>
            </input>
        </context>
        <context>
            <input pattern = "2">
                <post url="46.101.255.21/api/question/add/" var="Question_2">
                      <header name="Content-Type" value="application/json"/>
                      <body>
                        <![CDATA[
                          {
                            "question" : "$Question",
                            "answer" : "$2_question_text"
                          }
                        ]]>
                      </body>
                </post>
                <output value='Recorded thanks nigguh'/>
            </input>
        </context>
        <context>
            <input pattern = "3">
                <post url="46.101.255.21/api/questions/add/" var="Question_3">
                      <header name="Content-Type" value="application/json"/>
                      <body>
                        <![CDATA[
                          {
                            "question" : "$Question",
                            "answer" : "$3_question_text"
                          }
                        ]]>
                      </body>
                </post>
                <output value='Recorded thanks nigguh'/>
            </input>
        </context>
        <context>
            <input pattern = "$Text">
            <var name="Answer" value="$Text" scope="context"/>
            <post url="46.101.255.21/api/questions/add/" var="QAPair">
              <header name="Content-Type" value="application/json"/>
              <body>
                <![CDATA[
                  {
                    "question" : "$Question",
                    "right_answer" : "$Answer"
                  }
                ]]>
              </body>
            </post>
            <output value ='Answer recorded nigguh'/>
            </input>
        </context>
    </input>
</context>
